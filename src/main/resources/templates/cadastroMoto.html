<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head(title='Cadastro de Moto')"></head>
<body>
<div class="container">

    <h2>Cadastro</h2>

    <!-- Aba Moto -->
    <div>
        <h3>Moto</h3>
        <form th:action="@{/motos/cadastro}" method="post">
            <label for="placa">Placa</label>
            <input type="text" id="placa" name="placa" placeholder="Digite a placa" 
                   th:value="${moto.placa}" required>

            <label for="setor">Setor</label>
            <select id="setor" name="setorId" required>
                <option value="" disabled selected>Selecione um setor</option>
                <option th:each="setor : ${setores}"
                        th:value="${setor.id}"
                        th:text="${setor.nome}"
                        th:selected="${moto.setorId} == ${setor.id}">
                </option>
            </select>

            <button type="submit">Cadastrar Moto</button>
        </form>
    </div>

    <hr>

    <!-- Aba Setor -->
    <div>
        <h3>Setor</h3>
        <form th:action="@{/setores/cadastro}" method="post">
            <label for="novoSetor">Nome do Setor</label>
            <input type="text" id="novoSetor" name="nome" placeholder="Digite o nome do setor" 
                   th:value="${novoSetor.nome}" required>

            <button type="submit">Cadastrar Setor</button>
        </form>
    </div>

    <!-- Mensagem de erro -->
    <div th:if="${erro}" style="color:red; margin-top:10px;">
        <p th:text="${erro}"></p>
    </div>

    <!-- Mensagem de sucesso -->
    <div th:if="${sucesso}" style="color:green; margin-top:10px;">
        <p th:text="${sucesso}"></p>
    </div>

</div>

<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
